
let account = {
    "email": "ethanashihundu26+1@gmail.com",
    "password": "Owen2021!!!",
    "num": 1,
    "won": [
      [
        {
          "bidState": {
            "isActiveUserWinning": true,
            "projectId": 17873197,
            "publicMaxBid": {
              "amount": 2,
              "timestamp": {
                "__type": "Date",
                "value": "2023-09-29T01:46:57.410Z"
              }
            },
            "userMaxBid": {
              "amount": 6,
              "timestamp": {
                "__type": "Date",
                "value": "2023-09-29T01:46:57.410Z"
              }
            },
            "userNextMinBid": 7
          },
          "dateClosed": {
            "__type": "Date",
            "value": "2023-09-29T01:47:00.000Z"
          },
          "marketStatus": "open",
          "title": "Bemis 500EC 390 Toilet Seat with Easy Clean & Change Hinges, Round, Durable ",
          "wprice": 2,
          "location": {
            "address": "8928 E Ray Rd Suite 101",
            "zipCode": 85212,
            "offsite": false,
            "pickupDetail": "",
            "timezone": "America/Phoenix",
            "city": "Mesa",
            "name": "Mesa",
            "state": "AZ"
          },
          "_count": {
            "bids": 2,
            "bidders": 2,
            "watchlists": 2
          },
          "originType": "revalidate",
          "bprice": 0,
          "createdAt": {
            "__type": "Date",
            "value": "2023-09-27T18:01:21.007Z"
          },
          "dateAdded": {
            "__type": "Date",
            "value": "2023-09-28T02:34:59.979Z"
          },
          "id": 17873197,
          "rprice": 1,
          "sold": 0,
          "sprice": 1,
          "updatedAt": {
            "__type": "Date",
            "value": "2023-09-29T01:46:57.557Z"
          },
          "item": {
            "assemblyType": {
              "id": 2,
              "description": "No"
            },
            "conditionType": {
              "id": 5,
              "description": "New"
            },
            "missingPartsType": {
              "id": 6,
              "description": "No"
            },
            "functionalType": {
              "id": 1,
              "description": "Yes"
            },
            "damageType": {
              "id": 7,
              "description": "None"
            },
            "packageType": {
              "id": 5,
              "description": "Yes"
            },
            "categoryType": {
              "id": 3,
              "description": "Home & Garden"
            },
            "photos": [
              {
                "url": "https://m.media-amazon.com/images/I/3155DVuJFCL.jpg",
                "name": "https://m.media-amazon.com/images/I/3155DVuJFCL.jpg",
                "path": "https://m.media-amazon.com/images/I/3155DVuJFCL.jpg"
              },
              {
                "url": "https://firebasestorage.googleapis.com/v0/b/nellishr-cbba0.appspot.com/o/processing-photos%2F1017635323%2F6-prTrkSMD65tCidfBVn0.jpg?alt=media&token=5f08151e-af3d-414e-b103-69f8c12b3cbf",
                "name": "6-prTrkSMD65tCidfBVn0.jpg",
                "fullPath": "processing-photos/1017635323/6-prTrkSMD65tCidfBVn0.jpg"
              },
              {
                "url": "https://firebasestorage.googleapis.com/v0/b/nellishr-cbba0.appspot.com/o/processing-photos%2F1017635323%2Ffqwlhgm__U-B7O61lg5os.jpg?alt=media&token=b0a8f5fe-a23f-4a91-807e-3e4ef50000c5",
                "name": "fqwlhgm__U-B7O61lg5os.jpg",
                "fullPath": "processing-photos/1017635323/fqwlhgm__U-B7O61lg5os.jpg"
              }
            ],
            "inventoryNumber": "1017635323",
            "retailPrice": 45.97,
            "notes": null,
            "starRating": 5,
            "updatedAt": {
              "__type": "Date",
              "value": "2023-09-27T18:17:01.000Z"
            }
          },
          "buyNow": {}
        },
        "https://www.nellisauction.com/p/Bemis-500EC-390-Toilet-Seat-with-Easy-Clean-Change-Hinges-Round/17873197",
        "ethanashihundu26+1@gmail.com",
        8,
        "2023-10-06T01:47:00.000Z",
        "3479466861",
        "",
        false
      ]
    ],
    "returns": 0,
    "returned": [],
    "running": [],
    "cookies": "_hp2_id.1530949394=%7B%22userId%22%3A%224573947786276139%22%2C%22pageviewId%22%3A%22273064179230156%22%2C%22sessionId%22%3A%224781525525064900%22%2C%22identity%22%3Anull%2C%22trackerVersion%22%3A%224.0%22%7D; __adroll_fpc=7f3c6085b77597fd7b316f0876544e64-1695694568366; __ar_v4=%7CQSXTKNUYXNCWNFQAP2WPHK%3A20230926%3A1%7CXCWDW22TAVFONKHMZRMNJ5%3A20230926%3A1%7CEQNY52S66BH4VH6D3CIXQE%3A20230926%3A1; ap3c=IGUSPurO34oKqD8DAGUSPuqRBy2F8k1oZ30SLELHdcP0GSGZmw; _ga_Z14LK6XFVL=GS1.1.1695694567.1.1.1695694588.39.0.0; _ttp=-ikVGXUG8ZTp_Pl9bHkoExARicA; _tt_enable_cookie=1; _fbp=fb.1.1695694568084.119828667; __navigation=eyJhdXRoUmVkaXJlY3QiOiIvIn0%3D.%2F%2FDloNKWkzcXKnazbtrGHl0vHeuuY%2FiSIu%2Bz%2FuNkiNM; _rdt_uuid=1695694568067.41625de3-0542-40a8-a1f9-540dc4b9c96d; _ga=GA1.1.198708744.1695694568; clientside-cookie=4e97807010212fb3458c41de9c1ed5a13f3f741cc02178d65eea0c9c7f43c0cd8d16af96a9155f395b20c5c9cf0aa759538586c1ffce1f1c1cc511be0b98c10e26f7d771add41c97473b05e36adffe3abb4969a3e96f33de87d52eb10925b36ecc746c0b8d8f2fc68f077165b3a095ee2818fbe00c0546bfdd5f00dd9998052c24ef8e4a0c509d6c2d4daa0dcc4bc034ce7034a36bf3ab69680a99; _hp2_ses_props.1530949394=%7B%22ts%22%3A1695694567709%2C%22d%22%3A%22www.nellisauction.com%22%2C%22h%22%3A%22%2Flogin%22%7D; _gcl_au=1.1.213757455.1695694568; __session=eyJ1c2VySWQiOjQ4Njc3NSwidXNlckF1dGhUb2tlbiI6ImV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwWkNJNk5EZzJOemMxTENKcFlYUWlPakUyT1RVMk9UUTFPRGNzSW1WNGNDSTZNVFk1T0RJNE5qVTROMzAuSktQV3RoYkpEc3NPZXFDVE0zQ09OVmUwTW5BdlF4Uk1VUWRXM00xYlRFMCJ9.AYbBRTTbG8epnkHFYq%2FbjihjDiJmNYx25gKdQG%2BuGHw; ap3pages=1; _gid=GA1.2.884065898.1695694568; _gat=1; __public=e30%3D.GcnILYfJMKY278FQnUClucHACfVuNPNrwhUHVleAYNQ",
    "phoneNumber": "6467058234",
    "firstName": "Grace"
  };

  let productId = 17873197;




function removeWonItemByEmailAndProductId(account, productId) {

    let removed = false;
    for (let index = 0; index < account.won.length; index++) {
        const wonArray = account.won[index];
        
        // Check if any item in the wonArray has the given productId
        const hasProduct = wonArray.some(item => item.bidState && item.bidState.projectId === productId);
        
        if (hasProduct) {
            // Remove the entire wonArray from the account.won
            account.won.splice(index, 1);
            removed = true;
            break;
        }
    }

    if (removed) {
        console.log(`Array containing item with productId: ${productId} removed successfully from account: ${account.email}`);
    } else {
        console.log(`Item with productId: ${productId} not found in account: ${account.email}`);
    }
}


removeWonItemByEmailAndProductId(account, productId);
console.log(account);



